<!DOCTYPE html>
<html><head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<title>Geometrize</title>
<style type="text/css">
#test {
    position: relative;
    width: 100%;
    height: 1000px;
    padding: 0;
    margin: 0 auto;
    overflow: visible;
}
</style>
</head><body>
<h1>Geometrize</h1>
<div id="test"></div>
<script src="../build/Geometrize.js"></script>
<script>
"use strict";
(function() {
    var G = Geometrize;
    var plane = G.Plane(document.getElementById('test'), 300, 300);
    var ellipse = G.Ellipse([40,40], 30, 10, -45);
    var circle = G.Circle([30,30], 20);
    var arc = G.Arc([100,100], [170,90], 30, 10, 30, 0, 1);
    var line = G.Line([20,20], [60,60]);
    var line2 = G.Line([50,2], [20,70]);
    var line3 = G.Line([60,160], [300,0]);
    var line4 = G.Line([60,120], [300,-40]);
    var dx = 12, dy = 1;
    var i1 = line.intersects(ellipse),
        i2 = line2.intersects(ellipse),
        i3 = line.intersects(circle),
        i4 = line2.intersects(circle),
        i5 = ellipse.intersects(circle),
        i6 = line.intersects(line2),
        i7 = line3.intersects(arc),
        i8 = line4.intersects(arc)
    ;
    var intersections = [].concat(i1 ? i1 : []).concat(i2 ? i2 : []).concat(i3 ? i3 : []).concat(i4 ? i4 : []).concat(i5 ? i5 : []).concat(i6 ? i6 : []).concat(i7 ? i7 : []).concat(i8 ? i8 : []);

    line.style['stroke'] = 'blue';
    line2.style['stroke'] = 'green';
    line3.style['stroke'] = 'orange';
    line4.style['stroke'] = 'cyan';
    plane.add(line);
    plane.add(line2);
    plane.add(line3);
    plane.add(line4);
    plane.add(ellipse);
    plane.add(circle);
    plane.add(arc);
    intersections.forEach(function(p) {
        p.style['stroke'] = 'red';
        p.style['stroke-width'] = 2;
        plane.add(p);
    });
    /*setTimeout(function animate() {
        if (0 > line.start.x+dx || line.start.x+dx > plane.width) dx = -dx;
        if (0 > line.start.y+dy || line.start.y+dy > plane.height) dy = -dy;
        line.start.x += dx;
        line.start.y += dy;
        line.end.x += dx;
        line.end.y += dy;
        setTimeout(animate, 500);
    }, 500);*/
})();
</script>
</body></html>
